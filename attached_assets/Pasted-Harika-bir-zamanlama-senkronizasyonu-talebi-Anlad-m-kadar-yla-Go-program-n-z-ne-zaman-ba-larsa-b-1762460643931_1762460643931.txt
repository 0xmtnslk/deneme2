Harika bir zamanlama senkronizasyonu talebi. AnladÄ±ÄŸÄ±m kadarÄ±yla, Go programÄ±nÄ±z ne zaman baÅŸlarsa baÅŸlasÄ±n, hemen iÅŸe koyulmak yerine bir sonraki dakikanÄ±n tam "00" saniyesine (ve milisaniyesine) kadar beklesin istiyorsunuz.

Bunu yapmak iÃ§in time paketini kullanarak bir sonraki dakikanÄ±n baÅŸÄ±na kadar olan sÃ¼reyi hesaplayÄ±p o sÃ¼re kadar time.Sleep kullanmanÄ±z gerekir.

upbit_monitor.go dosyanÄ±zdaki main fonksiyonunuzun en baÅŸÄ±na (asÄ±l iÅŸi yapmaya baÅŸlamadan Ã¶nce) aÅŸaÄŸÄ±daki kodu ekleyebilirsiniz.

### ğŸ¯ Eklemeniz Gereken Go Kodu

Ä°ÅŸte bekleme iÅŸlemini yapacak kod parÃ§acÄ±ÄŸÄ±:
package main

import (
  "fmt"
  "time"
  // ... diÄŸer importlarÄ±nÄ±z
)

// Bu fonksiyon bir sonraki dakikanÄ±n baÅŸÄ±na kadar bekler.
func waitForNextMinute() {
  // 1. Åu anki zamanÄ± al
  now := time.Now()

  // 2. Bir sonraki dakikanÄ±n baÅŸlangÄ±cÄ±nÄ± hesapla
  //    Truncate(time.Minute) -> iÃ§inde bulunulan dakikanÄ±n baÅŸÄ±nÄ± verir (Ã¶rn: 10:45:23 -> 10:45:00)
  //    .Add(time.Minute)     -> bir sonraki dakikanÄ±n baÅŸÄ±nÄ± verir (Ã¶rn: 10:45:00 -> 10:46:00)
  nextMinute := now.Truncate(time.Minute).Add(time.Minute)

  // 3. Bir sonraki dakikanÄ±n baÅŸÄ±na kadar olan sÃ¼reyi (Duration) hesapla
  //    time.Until(targetTime) -> ÅŸimdiki zamandan 'targetTime'a kadar olan sÃ¼reyi verir.
  waitDuration := time.Until(nextMinute)

  // (Ä°steÄŸe baÄŸlÄ±) Bilgilendirme iÃ§in loglama
  fmt.Printf("Åu anki zaman: %s\n", now.Format("15:04:05.000"))
  fmt.Printf("Hedeflenen baÅŸlangÄ±Ã§ zamanÄ±: %s\n", nextMinute.Format("15:04:05.000"))
  fmt.Printf("%s boyunca bekleniyor...\n", waitDuration)

  // 4. Hesaplanan sÃ¼re kadar programÄ± uyut (beklet)
  time.Sleep(waitDuration)

  // (Ä°steÄŸe baÄŸlÄ±) BaÅŸlangÄ±Ã§ logu
  fmt.Printf("BaÅŸlangÄ±Ã§! Zaman: %s\n", time.Now().Format("15:04:05.000"))
}

func main() {
  // --- EKLEMENÄ°Z GEREKEN YER ---
  // ProgramÄ±n asÄ±l iÅŸine baÅŸlamadan Ã¶nce dakikanÄ±n baÅŸÄ±nÄ± bekle
  waitForNextMinute()
  // ---------------------------

  // Buradan itibaren sizin mevcut kodunuz (Upbit izleme, dÃ¶ngÃ¼ler vb.)
  // ...
  // ...
  fmt.Println("Upbit izleme kodunuz buradan itibaren Ã§alÄ±ÅŸmaya baÅŸlar.")
  // Ã–rnek:
  // for {
  //     monitorUpbit()
  //     time.Sleep(10 * time.Second) // Kendi dÃ¶ngÃ¼ beklemeniz
  // }
}

// ... dosyanÄ±zÄ±n geri kalanÄ±
### ğŸ§‘â€ğŸ« Kodun AÃ§Ä±klamasÄ±

1.  `waitForNextMinute()` Fonksiyonu: Bu, tÃ¼m bekleme mantÄ±ÄŸÄ±nÄ± iÃ§eren yardÄ±mcÄ± bir fonksiyondur.
2.  `now := time.Now()`: GeÃ§erli zamanÄ± alÄ±r.
3.  `nextMinute := now.Truncate(time.Minute).Add(time.Minute)`:
      * now.Truncate(time.Minute): ZamanÄ± en yakÄ±n alt dakikaya yuvarlar (Ã¶rneÄŸin, 14:30:45.123 ise 14:30:00.000 yapar).
      * .Add(time.Minute): Bu yuvarlanmÄ±ÅŸ zamana tam 1 dakika ekler (yani 14:30:00.000 ise 14:31:00.000 yapar). BÃ¶ylece her zaman bir *sonraki* dakikanÄ±n baÅŸlangÄ±Ã§ zamanÄ±nÄ± elde ederiz.
4.  `waitDuration := time.Until(nextMinute)`: time.Until() fonksiyonu, ÅŸu an ile nextMinute (hedef zaman) arasÄ±ndaki sÃ¼reyi (duration) hesaplar.
5.  `time.Sleep(waitDuration)`: ProgramÄ±n Ã§alÄ±ÅŸmasÄ±nÄ±, hesaplanan bu waitDuration sÃ¼resi kadar duraklatÄ±r.
6.  SÃ¼re dolduÄŸunda, program main fonksiyonunda kaldÄ±ÄŸÄ± yerden devam eder ve bu tam olarak bir sonraki dakikanÄ±n baÅŸÄ± (XX:XX:00.000) olur.